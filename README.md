# EmiFuel - Калькулятор викидів твердих частинок

Android додаток для розрахунку викидів твердих частинок при спалюванні палива на теплових електростанціях.

## Опис

EmiFuel - це мобільний калькулятор для розрахунку показників емісії та валових викидів твердих частинок відповідно до методичних вказівок. Додаток реалізує розрахунки за формулами (2.1), (2.2) та (2.3) для різних типів палива, технологій спалювання та систем очищення димових газів.

## Функціональність

### Основні можливості

- **Вибір параметрів спалювання:**
  - Технологія спалювання (шарове, факельне, киплячий шар)
  - Технологія десульфуризації (без очищення, вапняково-гіпсова, магнезитова)
  - Тип палива (вугілля, мазут, природний газ)

- **Автоматичне підставлення даних:**
  - Характеристики палива з таблиць А.1-А.4
  - Параметри технологій спалювання
  - Типові значення ефективності фільтрів

- **Вибір системи очищення:**
  - Електрогазоаерозольний апарат (ЕГА) - ηзу = 0.985
  - Батарейний циклон - ηзу = 0.90
  - Механічний пиловловлювач - ηзу = 0.75
  - Відсутній (для природного газу)

- **Розрахунки:**
  - Показник емісії твердих частинок до очищення (формула 2.3)
  - Показник емісії після очищення (формула 2.2)
  - Валовий викид твердих частинок (формула 2.1)

- **Експорт результатів:**
  - Збереження звіту в PDF форматі
  - Детальні розрахунки з формулами
  - Всі вхідні дані та результати

## Технології

### Платформа
- **Android:** API 29+ (Android 10+)
- **Мова:** Kotlin 1.9
- **SDK:** Android SDK 36

### Бібліотеки та frameworks
- **UI:** Jetpack Compose + Material Design 3
- **Архітектура:** MVVM (ViewModel, StateFlow)
- **PDF:** Native Android PdfDocument API
- **Парсинг даних:** Kotlin Parcelize

### Основні компоненти
```
com.emifuel/
├── calculator/          # Логіка розрахунків
│   └── EmissionCalculator.kt
├── model/              # Моделі даних
│   ├── CombustionTechnology.kt
│   ├── DesulfurizationTechnology.kt
│   ├── DustFilterType.kt
│   ├── FuelType.kt
│   ├── FuelData.kt
│   ├── InputData.kt
│   └── CalculationResult.kt
├── ui/                 # Інтерфейс користувача
│   ├── main/          # Головний екран
│   ├── results/       # Екран результатів
│   └── theme/         # Тема оформлення
└── pdf/               # Генерація PDF
    └── PdfGenerator.kt
```

## Встановлення та запуск

### Вимоги
- Android Studio Hedgehog | 2023.1.1 або новіше
- JDK 11 або новіше
- Android SDK API 29+
- Gradle 8.0+

### Збірка проекту

#### Варіант 1: Через Android Studio
1. Відкрийте проект в Android Studio
2. Дочекайтесь синхронізації Gradle
3. Підключіть Android пристрій або запустіть емулятор
4. Натисніть Run (Shift+F10)

#### Варіант 2: Через командний рядок
```batch
# Збірка Debug APK
gradlew assembleDebug

# Збірка Release APK
gradlew assembleRelease

# Встановлення на підключений пристрій
gradlew installDebug

# Збірка та запуск
gradlew installDebug
adb shell am start -n com.emifuel/.MainActivity
```

#### Варіант 3: Використання скрипта
```batch
# Автоматична збірка, встановлення та запуск
install_and_run.bat
```

### Готовий APK
Після збірки APK файл буде доступний за шляхом:
```
EmiFuel/app/build/outputs/apk/debug/app-debug.apk
```

## Використання

### Крок 1: Введення даних
1. Оберіть технологію спалювання
2. Оберіть технологію десульфуризації
3. Оберіть тип палива
4. Введіть витрату палива
5. Оберіть тип фільтра (для вугілля та мазуту)

### Крок 2: Розрахунок
1. Натисніть кнопку "Розрахувати"
2. Перегляньте результати на екрані результатів

### Крок 3: Експорт
1. Натисніть кнопку "Зберегти в PDF"
2. Оберіть місце збереження файлу
3. Підтвердіть збереження

## Формули розрахунку

### Формула (2.3): Показник емісії до очищення
```
kтв(до) = (10⁶ / Qr) × aвин × (Ar / (100 - Гвин)) × (1 - q4/QC)
```
де QC = 32.68 МДж/кг - теплота згоряння вуглецю до CO₂

### Формула (2.2): Показник емісії після очищення
```
kтв = kтв(до) × (1 - ηзу)
```

### Формула (2.1): Валовий викид
```
E = (10⁻⁶) × B × Qr × kтв
```

## Структура даних

### Типи палива (FuelType)
- **COAL** - Вугілля (т)
- **FUEL_OIL** - Мазут (т)
- **GAS** - Природний газ (тис.м³)

### Технології спалювання (CombustionTechnology)
- **LAYERED** - Шарове спалювання (aвин = 0.05-0.2)
- **TORCH** - Факельне спалювання (aвин = 0.8-0.95)
- **FLUIDIZED_BED** - Киплячий шар (aвин = 0.5)

### Технології десульфуризації (DesulfurizationTechnology)
- **NONE** - Без очищення
- **LIME_GYPSUM** - Вапняково-гіпсова
- **MAGNESITE** - Магнезитова

### Типи фільтрів (DustFilterType)
- **ELECTROSTATIC** - ЕГА (ηзу = 0.985)
- **CYCLONE** - Батарейний циклон (ηзу = 0.90)
- **MECHANICAL** - Механічний (ηзу = 0.75)
- **NONE** - Відсутній (для газу)

## Приклади використання

### Приклад 1: Вугілля з ЕГА
```
Вхідні дані:
- Технологія: Факельне спалювання
- Десульфуризація: Без очищення
- Паливо: Вугілля
- Витрата: 1000 т
- Фільтр: ЕГА (ηзу = 0.985)

Результати:
- kтв(до): ~1500 г/ГДж
- kтв(після): ~22.5 г/ГДж
- E: ~0.5 т
```

### Приклад 2: Природний газ
```
Вхідні дані:
- Технологія: Факельне спалювання
- Десульфуризація: Без очищення
- Паливо: Природний газ
- Витрата: 100 тис.м³
- Фільтр: Відсутній

Результати:
- kтв: 0 г/ГДж (газ не утворює твердих частинок)
- E: 0 т
```

## PDF Звіт

Експортований PDF містить:
- **Заголовок:** Назва та дата формування
- **Вхідні дані:** Всі параметри включно з типом фільтра
- **Результати:** Показники емісії та валовий викид
- **Деталі розрахунку:** Покрокові розрахунки з формулами
- **Футер:** Підпис генерації

Формат імені файлу: `EmiFuel_Zvit_2025-12-07_1430.pdf`
